账户中心对外接口(dubbo)整理
=======================================

**目录**

[1. 账户注册接口](#t1)

[2. 账户登录接口](#t2)

[3.个人账户查询接口](#t3)

[4.个人账户修改接口](#t4)

[5.检查账户是否存在接口](#t5)

[6.删除个人账户接口](#t6)

[7.检查手机号是否唯一接口](#t7)

[8.通过解密后的token进行用户的有效性验证](#t8)

[9.通过解密后的token注销用户](#t9)

[10.通过解密后的token查询用户信息](#t10)

[11.通过解密后的token修改账户密码](#t11)

[12.通过验证码修改密码](#t12)

[13.通过验证码绑定手机号和账户](#t13)

[14.通过验证码解除绑定手机号和账户](#t14)

[15.修改密码通过手机验证码](#t15)

[16.klh个人账户增加](#t16)

[17.klh个人账户查询](#t17)

[18.康老汇个人账户修改接口](#t18)

[19.智慧云个人账户增加接口](#t19)

[20.智慧云个人账户修改接口](#t20)

[21.智慧云个人账户查询接口](#t21)

[22.智慧云个人账户模糊分页查询](#t22)

[23.删除智慧云账户信息,不删除账户](#t23)

[24.企业信息增加接口](#t24)

[25.企业信息查询接口](#t25)

[26.企业信息修改接口](#t26)

[~~27.企业账户注册接口~~(<span style="color:red;">已删除</span>)](#t27)

[~~28.企业康老汇账户修改接口~~(<span style="color:red;">已删除</span>)](#t28)

[~~29.企业康老汇账户查询~~(<span style="color:red;">已删除</span>)](#t29)

[~~30.企业康老汇账户认证接口~~(<span style="color:red;">已删除</span>)](#t30)

[~~31.企业康老汇账户是否认证~~(<span style="color:red;">已删除</span>)](#t31)

[~~32.智慧云账户增加接口~~(<span style="color:red;">已删除</span>)](#t32)

[~~33.智慧云账户查询接口~~(<span style="color:red;">已删除</span>)](#t33)

[~~34.智慧云账户修改接口~~(<span style="color:red;">已删除</span>)](#t34)

[~~35.删除智慧云账户信息,不删除账户~~(<span style="color:red;">已删除</span>)](#t35)

[36.发送手机验证码](#t36)

[37.验证手机验证码](#t37)

[38.康老汇会员代注册接口](#t38)

[39.企业信息查询接口](#t39)

[40.登陆日志查询接口](#t40)

[41.智慧云账户注册接口](#t41)


**附录**

[(1)requestDto封装通用参数代码](#f1)

[(2)判断接口结果是否正确代码](#f2)

[(3)dubbo接口配置说明](#f3)

[(4)maven依赖pom.xml](#f4)

# <a name="t1">1. 账户注册接口</a>

## 1.1. 接口代码:RegisterApi#register(RegisterRequestDto dto);

## 1.2. 请求参数:RegisterRequestDto

## 1.3. 返回参数:Result&lt;RegisterResponseDto&gt;

## 1.4. 示例代码:

```java
    /***
     * 1. 账户注册接口
     */
    @Test
    public void test1() {
        println("测试账户注册接口:开始");
        RegisterRequestDto requestDto = new RegisterRequestDto();
        requestDto.setMobile("18210344120");
        requestDto.setEmail("593949939@qq.com");
        requestDto.setName("李金生1");
        requestDto.setPassword(MD5Helper.MD5("password"));
        dealRequestDto(requestDto);

        RegisterApi registerApi = (RegisterApi) applicationContext.getBean("registerApi");
        Result<RegisterResponseDto> result = registerApi.register(requestDto);
        testResult(result);
        logger.info(result.getData().toString());
        println("测试账户注册接口:成功结束");
    }
```
 
# <a name="t2">2. 账户登录接口</a>

## 2.1. 接口代码:AccountApi#authByNameAndPassword(AuthByNameAndPwdReqDto reqDto);

## 2.2. 请求参数:AuthByNameAndPwdReqDto

## 2.3. 返回参数Result&lt;AuthByNameAndPwdResDto&gt;

## 2.4. 示例代码:

```java
    /****
     * 2. 账户登录接口
     */
    @Test
    public void test2() {
        AuthByNameAndPwdReqDto reqDto = new AuthByNameAndPwdReqDto();
        reqDto.setLoginName("18210344120");
        reqDto.setLoginNameTypeEnum(LoginNameTypeEnum.MOBILE);
        reqDto.setPassword(MD5Helper.MD5("password"));
        dealRequestDto(reqDto);
        Result<AuthByNameAndPwdResDto> resDtoResult = accountApi.authByNameAndPassword(reqDto);
        testResult(resDtoResult);
        assert resDtoResult.getData().getToken() != null;
        assert resDtoResult.getData().getAccountId() != null;
        println(resDtoResult.getData().getToken());
        try {
            println(URLEncoder.encode(resDtoResult.getData().getToken(),"UTF-8"));
        } catch (UnsupportedEncodingException e) {
            e.printStackTrace();
        }
    }
```

# <a name="t3">3.个人账户查询接口</a>

## 3.1. 接口代码:AccountApi#personalAcctQuery

## 3.2. 请求参数:PersonalAcctQueryRequestDto

## 3.3. 返回参数:Result&lt;PersonalAcctQueryResponseDto&gt;

## 3.4. 示例代码:

```java
    /***
     * 3.个人账户查询接口
     */
    @Test
    public void test3() {
        PersonalAcctQueryRequestDto requestDto = new PersonalAcctQueryRequestDto();
        requestDto.setMobile("18210344120");
        dealRequestDto(requestDto);
        requestDto.setAppCode(AppCodeEnum.KLH);
        Result<PersonalAcctQueryResponseDto> result = accountApi.personalAcctQuery(requestDto);
        testResult(result);
        println(result.getData());
    }
```
# <a name="t4">4.个人账户修改接口</a>

## 4.1. 接口代码:AccountApi#personalAcctModify

## 4.2. 请求参数:PersonalAcctModifyRequestDto

## 4.3. 返回参数:Result&lt;PersonalAcctModifyResponseDto&gt;

## 4.4. 示例代码:

```java
    @Test
    public void test4() {
        PersonalAcctModifyRequestDto requestDto = new PersonalAcctModifyRequestDto();
        requestDto.setAccountId(new BigInteger("160316154954671997"));
        requestDto.setMobile("18210344120");
        requestDto.setName("ligson11");
        dealRequestDto(requestDto);
        Result<PersonalAcctModifyResponseDto> result = accountApi.personalAcctModify(requestDto);
        testResult(result);
        println(result.getData());
    }
```    

# <a name="t5">5.检查账户是否存在接口</a>

## 5.1. 接口代码:AccountApi#checkAcctExist

## 5.2. 请求参数:CheckAcctExistRequestDto

## 5.3. 返回参数:Result&lt;CheckAcctExistResponseDto&gt;

## 5.4. 示例代码:

```java
    /***
     * 5.检查账户是否存在接口
     */
    @Test
    public void test5() {
        CheckAcctExistRequestDto requestDto = new CheckAcctExistRequestDto();
        requestDto.setMobile("18210344120");
        dealRequestDto(requestDto);
        Result<CheckAcctExistResponseDto> result = accountApi.checkAcctExist(requestDto);
        testResult(result);
        println(result);
    }
```

# <a name="t6">6.删除个人账户接口</a>

## 6.1. 接口代码:AccountApi#personalAcctDel

## 6.2. 请求参数:PersonalAcctDelRequestDto

## 6.3. 返回参数:Result&lt;PersonalAcctDelResponseDto&gt;

## 6.4. 示例代码:

```java
    /***
     * 6.删除个人账户接口
     */
    @Test
    public void test6() {
        PersonalAcctDelRequestDto requestDto = new PersonalAcctDelRequestDto();
        requestDto.setAccountId(new BigInteger("-3344127489266527421"));
        dealRequestDto(requestDto);
        Result<PersonalAcctDelResponseDto> result = accountApi.personalAcctDel(requestDto);
        testResult(result);
        println(result.getData());
    }
```

# <a name="t7">7.检查手机号是否唯一接口</a>

## 7.1. 接口代码:AccountApi#checkMobileUnique

## 7.2. 请求参数:ChkMobileUniqueRequestDto

## 7.3. 返回参数:Result&lt;ChkMobileUniqueResponseDto&gt;

## 7.4. 示例代码:

```java
    /***
     * 7.检查手机号是否唯一接口
     */
    @Test
    public void test7() {
        ChkMobileUniqueRequestDto requestDto = new ChkMobileUniqueRequestDto();
        requestDto.setMobile("18210344120");
        dealRequestDto(requestDto);
        Result<ChkMobileUniqueResponseDto> result = accountApi.checkMobileUnique(requestDto);
        testResult(result);
        println(result.getData());
    }
```

# <a name="t8">8.通过解密后的token进行用户的有效性验证</a>

## 8.1. 接口代码:AccountApi#authByTokenId

## 8.2. 请求参数:AuthByTokenRequestDto

## 8.3. 返回参数:Result&lt;AuthByTokenResponseDto&gt;

## 8.4. 示例代码:

```java
    /***
     * 8.通过解密后的token进行用户的有效性验证
     */
    @Test
    public void test8() {
        AuthByTokenRequestDto requestDto = new AuthByTokenRequestDto();
        String tokenId = AuthTest.decodeTokenId();
        requestDto.setTokenId(tokenId);
        dealRequestDto(requestDto);
        Result<AuthByTokenResponseDto> result = accountApi.authByTokenId(requestDto);
        testResult(result);
        println(result.getData());
    }
```

# <a name="t9">9.通过解密后的token注销用户</a>

## 9.1. 接口代码:AccountApi#logoutByTokenId

## 9.2. 请求参数:LogoutByTokenRequestDto

## 9.3. 返回参数:Result&lt;LogoutByTokenResponseDto&gt;

## 9.4. 示例代码:

```java
    @Test
    public void test9() {
        LogoutByTokenRequestDto requestDto = new LogoutByTokenRequestDto();
        String tokenId = AuthTest.decodeTokenId();
        requestDto.setTokenId(tokenId);
        dealRequestDto(requestDto);
        Result<LogoutByTokenResponseDto> result = accountApi.logoutByTokenId(requestDto);
        testResult(result);
        println(result.getData());
    }
```

# <a name="t10">10.通过解密后的token查询用户信息</a>

## 10.1. 接口代码:AccountApi#queryAccountInfoByTokenId

## 10.2. 请求参数:QueryAccountInfoByTokenRequestDto

## 10.3. 返回参数:Result&lt;QueryAccountInfoByTokenResponseDto&gt;

## 10.4. 示例代码:

```java
    /***
     * 10.通过解密后的token查询用户信息
     */
    @Test
    public void test10() {
        QueryAccountInfoByTokenRequestDto requestDto = new QueryAccountInfoByTokenRequestDto();
        String tokenId = AuthTest.decodeTokenId();
        requestDto.setTokenId(tokenId);
        dealRequestDto(requestDto);
        Result<QueryAccountInfoByTokenResponseDto> result = accountApi.queryAccountInfoByTokenId(requestDto);
        testResult(result);
        println(result.getData());
    }
```

# <a name="t11">11.通过解密后的token修改账户密码</a>

## 11.1. 接口代码:AccountApi#modifyAccountPwdByTokenId

## 11.2. 请求参数:ModifyAccountPwdByTokenRequestDto

## 11.3. 返回参数:Result&lt;ModifyAccountPwdByTokenResponseDto&gt;

## 11.4. 示例代码:

```java
    /***
     * 11.通过解密后的token修改账户密码
     */
    @Test
    public void test11() {
        ModifyAccountPwdByTokenRequestDto requestDto = new ModifyAccountPwdByTokenRequestDto();
        String tokenId = AuthTest.decodeTokenId();
        requestDto.setTokenId(tokenId);
        requestDto.setNewPwd(MD5Helper.MD5("password1"));
        requestDto.setOldPwd(MD5Helper.MD5("password"));
        dealRequestDto(requestDto);
        Result<ModifyAccountPwdByTokenResponseDto> result = accountApi.modifyAccountPwdByTokenId(requestDto);
        testResult(result);
        println(result.getData());
    }
```


# <a name="t12">12.通过验证码修改密码用户</a>

## 12.1. 接口代码:AccountApi#modifyAccountPwdByValidCode

## 12.2. 请求参数:ModifyAccountPwdByValidCodeRequestDto

## 12.3. 返回参数:Result&lt;ModifyAccountPwdByValidCodeResponseDto&gt;

## 12.4. 示例代码:

```java
    /***
     * 12.通过验证码修改密码用户
     */
    @Test
    public void test12() {
        ModifyAccountPwdByValidCodeRequestDto requestDto = new ModifyAccountPwdByValidCodeRequestDto();
        requestDto.setNewPwd(MD5Helper.MD5("password"));
        requestDto.setAccountId("160316154954671997");
        requestDto.setMobile("18210344120");
        requestDto.setValidCode("197348");
        requestDto.setSmsTypeEnum(SmsTypeEnum.RESET_PWD);
        dealRequestDto(requestDto);
        Result<ModifyAccountPwdByValidCodeResponseDto> result = accountApi.modifyAccountPwdByValidCode(requestDto);
        testResult(result);
        println(result.getData());
    }
```

# <a name="t13">13.通过验证码绑定手机号和账户</a>

## 13.1. 接口代码:AccountApi#bindAcct

## 13.2. 请求参数:BindAccountRequestDto

## 13.3. 返回参数:Result&lt;BindAccountResponseDto&gt;

## 13.4. 示例代码:

```java
    /***
     * 13.通过验证码绑定手机号和账户
     */
    @Test
    public void test13() {
        BindAccountRequestDto requestDto = new BindAccountRequestDto();
        requestDto.setAccountId(new BigInteger("160316154954671997"));
        requestDto.setMobile("18210344120");
        requestDto.setValidCode("827046");
        requestDto.setSmsTypeEnum(SmsTypeEnum.RESET_PWD);
        dealRequestDto(requestDto);
        Result<BindAccountResponseDto> result = accountApi.bindAcct(requestDto);
        testResult(result);
        println(result.getData());
    }
```

# <a name="t14">14.通过验证码解除绑定手机号和账户</a>

## 14.1. 接口代码:AccountApi#unBindAcct

## 14.2. 请求参数:UnBindAccountRequestDto

## 14.3. 返回参数:Result&lt;UnBindAccountResponseDto&gt;

## 14.4. 示例代码:

```java
    /***
     * 14.通过验证码解除绑定手机号和账户
     */
    @Test
    public void test14() {
        UnBindAccountRequestDto requestDto = new UnBindAccountRequestDto();
        requestDto.setAccountId(new BigInteger("160316154954671997"));
        requestDto.setMobile("18210344120");
        dealRequestDto(requestDto);
        Result<UnBindAccountResponseDto> result = accountApi.unBindAcct(requestDto);
        testResult(result);
        println(result);
    }
```

# <a name="t15">15.修改密码通过手机验证码</a>

## 15.1. 接口代码:AccountApi#modifyAccountPwdByValidCode

## 15.2. 请求参数:ModifyAccountPwdByValidCodeRequestDto

## 15.3. 返回参数:Result&lt;ModifyAccountPwdByValidCodeResponseDto&gt;

## 15.4. 示例代码:

```java
    /***
     * 15.修改密码通过手机验证码
     */
    @Test
    public void test15() {
        test14();
    }
```

# <a name="t16">16.klh个人账户增加</a>

## 16.1. 接口代码:AccountApi#personalKlhAdd

## 16.2. 请求参数:PersonalKlhAcctAddRequestDto

## 16.3. 返回参数:Result&lt;PersonalKlhAcctAddResponseDto&gt;

## 16.4. 示例代码:

```java
    /***
     * 16.klh个人账户增加
     */
    @Test
    public void test16() {
        PersonalKlhAcctAddRequestDto requestDto = new PersonalKlhAcctAddRequestDto();
        requestDto.setAccountId(new BigInteger("160316154954671997"));
        requestDto.setIdNumber("410325198904194538");
        requestDto.setName("ligson");
        requestDto.setSex(1);
        requestDto.setStatus(1);
        dealRequestDto(requestDto);
        requestDto.setAppCode(AppCodeEnum.KLH);
        Result<PersonalKlhAcctAddResponseDto> result = accountApi.personalKlhAdd(requestDto);
        testResult(result);
        println(result);
    }
```

# <a name="t17">17.klh个人账户查询</a>

## 17.1. 接口代码:AccountApi#personalKlhAcctQuery

## 17.2. 请求参数:PersonalKlhAcctAddRequestDto

## 17.3. 返回参数:Result&lt;PersonalKlhAcctAddResponseDto&gt;

## 17.4. 示例代码:

```java
    /***
     * 17.klh个人账户查询
     */
    @Test
    public void test17() {
        PersonalKlhAcctQueryRequestDto requestDto = new PersonalKlhAcctQueryRequestDto();
        requestDto.setMobile("18210344120");
        dealRequestDto(requestDto);
        Result<PersonalKlhAcctQueryResponseDto> result = accountApi.personalKlhAcctQuery(requestDto);
        testResult(result);
        println(result.getData());
    }
```

# <a name="t18">18.康老汇个人账户修改接口</a>

## 18.1. 接口代码:AccountApi#personalKlhAcctModify

## 18.2. 请求参数:PersonalKlhAcctModifyRequestDto

## 18.3. 返回参数:Result&lt;PersonalKlhAcctQueryRequestDto&gt;

## 18.4. 示例代码:

```java
    /****
     * 18.康老汇个人账户修改接口
     */
    @Test
    public void test18() {
        PersonalKlhAcctModifyRequestDto requestDto = new PersonalKlhAcctModifyRequestDto();
        requestDto.setAccountId("160316154954671997");
        requestDto.setSex("2");
        dealRequestDto(requestDto);
        //bixu
        requestDto.setAppCode(AppCodeEnum.KLH);
        Result<PersonalKlhAcctModifyResponseDto> result = accountApi.personalKlhAcctModify(requestDto);
        testResult(result);

        println(result.getData());
    }
```

# <a name="t19">19.智慧云个人账户增加接口</a>

## 19.1. 接口代码:AccountApi#personalYunAdd

## 19.2. 请求参数:PersonalYunAcctAddRequestDto

## 19.3. 返回参数:Result&lt;PersonalYunAcctAddResponseDto&gt;

## 19.4. 示例代码:

```java
    /***
     * 19.智慧云个人账户增加接口
     */
    @Test
    public void test19() {
        PersonalYunAcctAddRequestDto requestDto = new PersonalYunAcctAddRequestDto();
        //requestDto.setBizZhyCode("ligson");
        requestDto.setPhone("18210344120");
        requestDto.setAccountId(new BigInteger("160316154954671997"));
        //requestDto.setCreator(new BigInteger("160219105658405643"));
        requestDto.setBirthday(new Date());
        requestDto.setName("ligson-x");
        requestDto.setPersonalZhyCode(IdUtils.buildUUID());
        //requestDto.setPersonalZhyCode("fa6c8cfb-14a8-4cf0-bfa7-e281c8a68836");
        dealRequestDto(requestDto);
        Result<PersonalYunAcctAddResponseDto> result = accountApi.personalYunAdd(requestDto);
        testResult(result);
        println(result.getData());
    }
```

# <a name="t20">20.智慧云个人账户修改接口</a>

## 20.1. 接口代码:AccountApi#personalYunModify

## 20.2. 请求参数:PersonalYunAcctModifyRequestDto

## 20.3. 返回参数:Result&lt;PersonalYunAcctModifyResponseDto&gt;

## 20.4. 示例代码:

```java
    /***
     * 20.智慧云个人账户修改接口
     */
    @Test
    public void test20() {
        PersonalYunAcctModifyRequestDto requestDto = new PersonalYunAcctModifyRequestDto();
        requestDto.setAccountId(new BigInteger("160316154954671997"));
        requestDto.setRemark("commmite......");
        Result<PersonalYunAcctModifyResponseDto> result = accountApi.personalYunModify(requestDto);
        testResult(result);
        println(result.getData());
    }
```

# <a name="t21">21.智慧云个人账户查询接口</a>

## 21.1. 接口代码:AccountApi#personalYunQuery

## 21.2. 请求参数:PersonalYunAcctQueryRequestDto

## 21.3. 返回参数:Result&lt;PersonalYunAcctQueryResponseDto&gt;

## 21.4. 示例代码:

```java
    /***
     * 21.智慧云个人账户查询接口
     */
    @Test
    public void test21() {
        PersonalYunAcctQueryRequestDto requestDto = new PersonalYunAcctQueryRequestDto();
        requestDto.setName("ligson-x");
        Result<PersonalYunAcctQueryResponseDto> result = accountApi.personalYunQuery(requestDto);
        testResult(result);
        println(result.getData());
    }
```

# <a name="t22">22.智慧云个人账户模糊分页查询</a>

## 22.1. 接口代码:AccountApi#personalYunSearchByKeyword

## 22.2. 请求参数:PersonalYunSearchRequestDto

## 22.3. 返回参数:Result&lt;PersonalYunSearchResponseDto&gt;

## 22.4. 示例代码:

```java
    /***
     * 22.智慧云个人账户模糊分页查询
     */
    @Test
    public void test22() {
        PersonalYunAcctSearchRequestDto requestDto = new PersonalYunAcctSearchRequestDto();
        List<String> zhyCodeList = new ArrayList<>();
        requestDto.setZhyCodeList(zhyCodeList);
        requestDto.setKeyword("%l%");
        dealRequestDto(requestDto);
        Result<PersonalYunAcctSearchResponseDto> result = accountApi.personalYunSearchByKeyword(requestDto);
        testResult(result);
        println(result.getData());
    }
```

# <a name="t23">23.删除个人云账户信息,不删除账户</a>

## 23.1. 接口代码:AccountApi#delPersonalYunAcct

## 23.2. 请求参数:PersonalYunAcctDelRequestDto

## 23.3. 返回参数:Result&lt;PersonalYunAcctDelResponseDto&gt;

## 23.4. 示例代码:

```java
    /***
     * 23.删除个人云账户信息,不删除账户
     */
    @Test
    public void test23() {
        List<String> idList = new ArrayList<>();
        idList.add("151224142450268769");
        PersonalYunAcctDelRequestDto requestDto = new PersonalYunAcctDelRequestDto();
        requestDto.setAccountIdList(idList);
        dealRequestDto(requestDto);
        Result<PersonalYunAcctDelResponseDto> result = accountApi.delPersonalYunAcct(requestDto);
        testResult(result);
        println(result);
    }
```

# <a name="t24">24.企业信息增加接口</a>

## 24.1. 接口代码:BizAcctApi#addBizInfo

## 24.2. 请求参数:BizInfoAddRequestDto

## 24.3. 返回参数:Result&lt;BizInfoAddResponseDto&gt;

## 24.4. 示例代码:

```java
    /***
     * 24.企业信息增加接口
     */
    @Test
    public void test24() {
        BizInfoAddRequestDto requestDto = new BizInfoAddRequestDto();
        requestDto.setType(1);
        requestDto.setPhone("0371-6564657");
        requestDto.setName("三开养老机构-ligson");
        dealRequestDto(requestDto);
        Result<BizInfoAddResponseDto> result = bizAcctApi.addBizInfo(requestDto);
        testResult(result);
        println(result);
    }
```

# <a name="t25">25.企业信息查询接口</a>

## 25.1. 接口代码:BizAcctApi#bizInfoQuery

## 25.2. 请求参数:BizInfoQueryRequestDto

## 25.3. 返回参数:Result&lt;BizInfoQueryResponseDto&gt;

## 25.4. 示例代码:

```java
    /***
     * 25.企业信息查询接口
     */
    @Test
    public void test25() {
        BizInfoQueryRequestDto requestDto = new BizInfoQueryRequestDto();
        requestDto.setType(1);
        dealRequestDto(requestDto);
        Result<BizInfoQueryResponseDto> result = bizAcctApi.bizInfoQuery(requestDto);
        testResult(result);
        println(result.getData());
    }
```

# <a name="t26">26.企业信息修改接口</a>

## 26.1. 接口代码:BizAcctApi#bizInfoModify

## 26.2. 请求参数:BizInfoModifyRequestDto

## 26.3. 返回参数:Result&lt;BizInfoModifyResponseDto&gt;

## 26.4. 示例代码:

```java
    /***
     * 26.企业信息修改接口
     */
    @Test
    public void test26() {
        BizInfoModifyRequestDto requestDto = new BizInfoModifyRequestDto();
        requestDto.setAccBizinfoId(new BigInteger("151231154744576187"));
        requestDto.setName("ligson");
        dealRequestDto(requestDto);
        Result<BizInfoModifyResponseDto> result = bizAcctApi.bizInfoModify(requestDto);
        testResult(result);
        println(result);
    }
```

# <a name="t27">27.企业账户注册接口</a>(<span style="color:red;">已删除</span>)

## 27.1. 接口代码:BizAcctApi#bizAcctRegister

## 27.2. 请求参数:BizAcctRegisterRequestDto

## 27.3. 返回参数:Result&lt;BizAcctRegisterResponseDto&gt;

## 27.4. 示例代码:

```java
    /***
     * 27.企业账户注册接口
     * 依赖接口：24.企业信息增加接口
     *
     * @see Test21_25#test24()
     */
    @Test
    public void test27() {
        BizAcctRegisterRequestDto registerRequestDto = new BizAcctRegisterRequestDto();
        registerRequestDto.setAccountId(new BigInteger("151230183027112819"));
        registerRequestDto.setAccBizinfoId(new BigInteger("160105115421024886"));
        dealRequestDto(registerRequestDto);
        registerRequestDto.setAppCode(AppCodeEnum.KLH);
        Result<BizAcctRegisterResponseDto> result = bizAcctApi.bizAcctRegister(registerRequestDto);
        testResult(result);
        println(result.getData());
    }
```

# <a name="t28">28.企业康老汇账户修改接口</a>(<span style="color:red;">已删除</span>)

## 28.1. 接口代码:BizAcctApi#bizKlhAcctModify

## 28.2. 请求参数:BizKlhAcctModifyRequestDto

## 28.3. 返回参数:Result&lt;BizKlhAcctModifyResponseDto&gt;

## 28.4. 示例代码:

```java
    /***
     * 28.企业康老汇账户修改接口
     */
    @Test
    public void test28() {
        BizKlhAcctModifyRequestDto requestDto = new BizKlhAcctModifyRequestDto();
        requestDto.setAccountId(new BigInteger("151230183027112819"));
        requestDto.setMobile("18210344122");
        dealRequestDto(requestDto);
        Result<BizKlhAcctModifyResponseDto> result = bizAcctApi.bizKlhAcctModify(requestDto);
        testResult(result);
        println(result.getData());
    }
```

# <a name="t29">29.企业康老汇账户查询</a>(<span style="color:red;">已删除</span>)

## 29.1. 接口代码:BizAcctApi#bizKlhAcctQuery

## 29.2. 请求参数:BizKlhAccountQueryRequestDto

## 29.3. 返回参数:Result&lt;BizKlhAccountQueryResponseDto&gt;

## 29.4. 示例代码:

```java
    /***
     * 29.企业康老汇账户查询
     */
    @Test
    public void test29() {
        BizKlhAccountQueryRequestDto requestDto = new BizKlhAccountQueryRequestDto();
        requestDto.setAccountId(new BigInteger("151230183027112819"));
        dealRequestDto(requestDto);
        Result<BizKlhAccountQueryResponseDto> result = bizAcctApi.bizKlhAcctQuery(requestDto);
        testResult(result);
        println(result.getData());
    }
```

# <a name="t30">30.企业康老汇账户认证接口</a>(<span style="color:red;">已删除</span>)

## 30.1. 接口代码:BizAcctApi#bizKlhAcctAudit

## 30.2. 请求参数:BizKlhAcctAuditRequestDto

## 30.3. 返回参数:Result&lt;BizKlhAcctAuditResponseDto&gt;

## 30.4. 示例代码:

```java
    /***
     * 30.企业康老汇账户认证接口
     */
    @Test
    public void test30() {
        BizKlhAcctAuditRequestDto requestDto = new BizKlhAcctAuditRequestDto();
        requestDto.setAccountId("151230183027112819");
        requestDto.setStatus(2);
        dealRequestDto(requestDto);
        Result<BizKlhAcctAuditResponseDto> result = bizAcctApi.bizKlhAcctAudit(requestDto);
        testResult(result);
        println(result.getData());
    }
```

# <a name="t31">31.企业康老汇账户是否认证</a>(<span style="color:red;">已删除</span>)

## 31.1. 接口代码:BizAcctApi#bizKlhAcctHasAuth

## 31.2. 请求参数:BizKlhAcctHasAuthRequestDto

## 31.3. 返回参数:Result&lt;BizKlhAcctHasAuthResponseDto&gt;

## 31.4. 示例代码:

```java
    /***
     * 31.企业康老汇账户是否认证
     */
    @Test
    public void test31() {
        BizKlhAcctHasAuthRequestDto requestDto = new BizKlhAcctHasAuthRequestDto();
        requestDto.setAccountId("151230183027112819");
        dealRequestDto(requestDto);
        Result<BizKlhAcctHasAuthResponseDto> result = bizAcctApi.bizKlhAcctHasAuth(requestDto);
        testResult(result);
        println(result.getData());
    }
```

# <a name="t32">32.智慧云账户增加接口</a>(<span style="color:red;">已删除</span>)

## 32.1. 接口代码:BizAcctApi#bizYunAdd

## 32.2. 请求参数:BizYunAcctAddRequestDto

## 32.3. 返回参数:Result&lt;BizYunAcctAddResponseDto&gt;

## 32.4. 示例代码:

```java
    /***
     * 32.智慧云账户增加接口
     */
    @Test
    public void test32() {
        //registerRequestDto.setAccountId(new BigInteger("151230183027112819"));
        //registerRequestDto.setAccBizinfoId(new BigInteger("160105115421024886"));
        BizYunAcctAddRequestDto requestDto = new BizYunAcctAddRequestDto();
        requestDto.setAccBizinfoId(new BigInteger("160105115421024886"));
        requestDto.setAccountId(new BigInteger("151230183027112819"));
        requestDto.setBizZhyCode("ligson");
        requestDto.setPhone("18210344122");
        dealRequestDto(requestDto);
        Result<BizYunAcctAddResponseDto> result = bizAcctApi.bizYunAdd(requestDto);
        testResult(result);
        println(result.getData());
    }
```

# <a name="t33">33.智慧云账户查询接口</a>(<span style="color:red;">已删除</span>)

## 33.1. 接口代码:BizAcctApi#bizYunQuery

## 33.2. 请求参数:BizYunAcctQueryRequestDto

## 33.3. 返回参数:Result&lt;BizYunAcctQueryResponseDto&gt;

## 33.4. 示例代码:

```java
    /***
     * 33.智慧云账户查询接口
     */
    @Test
    public void test33() {
        BizYunAcctQueryRequestDto requestDto = new BizYunAcctQueryRequestDto();
        requestDto.setAccountId(new BigInteger("151230183027112819"));
        dealRequestDto(requestDto);
        Result<BizYunAcctQueryResponseDto> result = bizAcctApi.bizYunQuery(requestDto);
        testResult(result);
        println(result.getData());
    }
```

# <a name="t34">34.智慧云账户修改接口</a>(<span style="color:red;">已删除</span>)

## 34.1. 接口代码:BizAcctApi#bizYunAcctModify

## 34.2. 请求参数:BizYunAcctModifyRequestDto

## 34.3. 返回参数:Result&lt;BizYunAcctModifyResponseDto&gt;

## 34.4. 示例代码:

```java
    /***
     * 34.智慧云账户修改接口
     */
    @Test
    public void test34() {
        BizYunAcctModifyRequestDto requestDto = new BizYunAcctModifyRequestDto();
        requestDto.setRemark("---------------");
        requestDto.setAccountId(new BigInteger("151230183027112819"));
        dealRequestDto(requestDto);
        Result<BizYunAcctModifyResponseDto> result = bizAcctApi.bizYunAcctModify(requestDto);
        testResult(result);
        println(result.getData());
    }
```

# <a name="t35">35.删除智慧云账户信息,不删除账户</a>(<span style="color:red;">已删除</span>)

## 35.1. 接口代码:BizAcctApi#delBizYunAcct

## 35.2. 请求参数:BizYunAcctDelRequestDto

## 35.3. 返回参数:Result&lt;BizYunAcctDelResponseDto&gt;

## 35.4. 示例代码:

```java
    /***
     * 35.删除智慧云账户信息,不删除账户
     */
    @Test
    public void test35() {
        List<String> idList = new ArrayList<>();
        idList.add("151230183027112819");
        BizYunAcctDelRequestDto requestDto = new BizYunAcctDelRequestDto();
        requestDto.setAccountIdList(idList);
        Result<BizYunAcctDelResponseDto> result = bizAcctApi.delBizYunAcct(requestDto);
        testResult(result);
        println(result);
    }
```

# <a name="t36">36.发送手机验证码</a>

## 36.1. 接口代码:ValidCodeApi#sendValidCode

## 36.2. 请求参数:SendValidCodeRequestDto

## 36.3. 返回参数:Result&lt;SendValidCodeResponseDto&gt;

## 36.4. 示例代码:

```java
    /***
     * 36.发送手机验证码
     */
    @Test
    public void test36() {
        SendSmsRequestDto requestDto = new SendSmsRequestDto();
        requestDto.setSmsTypeEnum(SmsTypeEnum.RESET_PWD);
        List<String> params = new ArrayList<>();
        params.add("5");
        requestDto.setParams(params);
        requestDto.setMobile("18210344122");
        dealRequestDto(requestDto);
        Result<SendSmsResponseDto> result = userSmsApi.sendSms(requestDto);
        testResult(result);
    }
```


# <a name="t37">37.验证手机验证码</a>

## 37.1. 接口代码:ValidCodeApi#validMobile

## 37.2. 请求参数:ValidMobileRequestDto

## 37.3. 返回参数:Result&lt;ValidMobileResponseDto&gt;

## 37.4. 示例代码:

```java
    /****
     * 37.验证手机验证码
     */
    @Test
    public void test37() {
        CheckValidCodeRequestDto requestDto = new CheckValidCodeRequestDto();
        requestDto.setSmsTypeEnum(SmsTypeEnum.RESET_PWD);
        requestDto.setValidCode("878776");
        dealRequestDto(requestDto);
        Result<CheckValidCodeResponseDto> result = userSmsApi.checkValidCode(requestDto);
        testResult(result);
        println(result);
    }
```

# <a name="t38">38.康老汇会员代注册接口</a>

## 38.1. 接口代码:AccountApi#personalKlhProxyRegister

## 38.2. 请求参数:PersonalKlhProxyRegisterRequestDto

## 38.3. 返回参数:Result&lt;PersonalKlhProxyRegisterResponseDto&gt;

## 38.4. 示例代码:

```java
    /***
     * 38.康老汇会员代注册接口
     */
    @Test
    public void test38() {
        PersonalKlhProxyRegisterRequestDto requestDto = new PersonalKlhProxyRegisterRequestDto();
        requestDto.setRealName("李贵金属");
        requestDto.setBizName("三开养老中心");
        requestDto.setMobile("18210344110");
        requestDto.setVip(true);
        dealRequestDto(requestDto);
        requestDto.setAppCode(AppCodeEnum.KLH);
        Result<PersonalKlhProxyRegisterResponseDto> result = accountApi.personalKlhProxyRegister(requestDto);
        testResult(result);
        println(result.getData());
    }
```

# <a name="t39">39.企业信息查询接口</a>

## 39.1. 接口代码:AccountApi#bizInfoLikeQuery

## 39.2. 请求参数:BizInfoLikeQueryRequestDto

## 39.3. 返回参数:Result&lt;BizInfoLikeQueryResponseDto&gt;

## 39.4. 示例代码:

```java
    /***
     * 39.企业信息查询接口
     */
    @Test
    public void test39() {
        BizInfoLikeQueryRequestDto requestDto = new BizInfoLikeQueryRequestDto();
        requestDto.setKeyword("%%");
        //requestDto.setStatus(3);
        dealRequestDto(requestDto);
        requestDto.setColumnSort("status desc");
        requestDto.setPageNum(2);
        requestDto.setPageSize(15);
        Result<BizInfoLikeQueryResponseDto> result = bizAcctApi.bizInfoLikeQuery(requestDto);
        testResult(result);
        for (BizInfo bizInfo : result.getData().getBizInfoList()) {
            println(bizInfo.getAccBizinfoId());
        }
        println(result.getData().getTotalCount());
    }
```

# <a name="t40">40.登陆日志查询接口</a>

## 40.1. 接口代码:AccountApi#bizInfoLikeQuery

## 40.2. 请求参数:BizInfoLikeQueryRequestDto

## 40.3. 返回参数:Result&lt;BizInfoLikeQueryResponseDto&gt;

## 40.4. 示例代码:

```java
    /***
     * 40.登陆日志查询接口
     */
    @Test
    public void test40() {
        LoginLogQueryRequestDto requestDto = new LoginLogQueryRequestDto();
        LoginLog loginLog = new LoginLog();
        requestDto.setLoginLog(loginLog);
        Result<LoginLogQueryResponseDto> queryResult = accountApi.loginLogQuery(requestDto);
        testResult(queryResult);
        println(queryResult);
    }
```

# <a name="t41">41.登陆日志查询接口</a>

## 41.1. 接口代码:RegisterApi#yunAcctRegister

## 41.2. 请求参数:YunAcctRegisterRequestDto

## 41.3. 返回参数:Result&lt;YunAcctRegisterResponseDto&gt;

## 41.4. 示例代码:

```java
    /***
     * 智慧云账户注册接口
     */
    @Test
    public void test41() {
        RegisterApi registerApi = (RegisterApi) applicationContext.getBean("registerApi");
        YunAcctRegisterRequestDto registerRequestDto = new YunAcctRegisterRequestDto();
        registerRequestDto.setMobile("18210344516");
        registerRequestDto.setPassword(MD5Helper.md5("password"));
        registerRequestDto.setDepartment("李金生的个人部门");
        registerRequestDto.setName("-----------");
        dealRequestDto(registerRequestDto);
        registerRequestDto.setAppCode(AppCodeEnum.CLOUD);
        Result<YunAcctRegisterResponseDto> result = registerApi.yunAcctRegister(registerRequestDto);
        testResult(result);
        println(result);
    }
```

#<a name="f1">(1)requestDto封装通用参数代码</a>

```java
    public void dealRequestDto(BaseRequestDto requestDto) {
        //dubbo版本
        requestDto.setVersion("dev");
        //字符编码
        requestDto.setCharset("utf-8");
        //业务代码
        requestDto.setAppCode(AppCodeEnum.ALL);
        //请求源设备
        requestDto.setSourceCode(SourceCodeEnum.PC);
    }
```

#<a name="f2">(2)判断接口结果是否正确代码</a>

```java
    public void testResult(Result result) {
        println("【接口调用结果】：" + result);
        assert result.getResultCode().equals(ResultCodeEnum.SUCCESS.getCode());
    }
```

#<a name="f3">(3)dubbo接口配置说明</a>

###251测试环境

```ini
    dubbo.registry.address=zookeeper://10.0.0.252:2181
    dubbo.iterface.version=dev_1.1.3
```

###线上环境

```ini
    dubbo.registry.address=10.172.198.58:2181,10.171.96.50:2181,10.171.100.65:2181
    dubbo.iterface.version=product_1.1.3
```

#<a name="f4">(4)maven依赖pom.xml</a>

```xml
    <dependency>
        <groupId>com.sankai.user</groupId>
        <artifactId>user_api</artifactId>
        <version>1.1.3-SNAPSHOT</version>
    </dependency>
```














